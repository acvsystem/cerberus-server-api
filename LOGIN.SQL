
CREATE TABLE TB_USUARIO(
    ID_LOGIN INT AUTO_INCREMENT,
    USUARIO VARCHAR(50),
    PASSWORD VARCHAR(50),
    EMAIL VARCHAR(100),
    ACTIVO BOOLEAN,
    ID_ROL_USUARIO INT,
    SEGURIDAD BOOLEAN,
    PRIMARY KEY(ID_LOGIN),
    FOREIGN KEY(ID_ROL_USUARIO) REFERENCES TB_ROL_SISTEMA(ID_ROL)
);

CREATE TABLE TB_SESIONES_USUARIO(
    ID_SESSION_USUARIO INT AUTO_INCREMENT,
    ID_LOGIN_SESSION INT,
    
);

CREATE TABLE TB_ROL_SISTEMA(
    ID_ROL INT AUTO_INCREMENT,
    NOMBRE_ROL VARCHAR(50),
    PRIMARY KEY(ID_ROL)
);

CREATE TABLE TB_MENU_SISTEMA(
    ID_MENU INT AUTO_INCREMENT,
    NOMBRE_MENU VARCHAR(150),
    RUTA VARCHAR(50),
    ICO VARCHAR(200),
    PRIMARY KEY(ID_MENU)
);

CREATE TABLE TB_SUBMENU_SISTEMA(
    ID_SUBMENU INT AUTO_INCREMENT,
    ID_MENU_SUBMENU INT,
    NOMBRE_SUBMENU VARCHAR(50),
    RUTA VARCHAR(50),
    ICO VARCHAR(200),
    PRIMARY KEY(ID_SUBMENU),
    FOREIGN KEY(ID_MENU_SUBMENU) REFERENCES TB_MENU_SISTEMA(ID_MENU)
);

CREATE TABLE TB_PERMISO_SISTEMA(
    ID_PERMISO_SISTEMA INT AUTO_INCREMENT,
    ID_ROL_PERMISO INT,
    ID_MENU_PERMISO INT,
    PRIMARY KEY(ID_PERMISO_SISTEMA),
    FOREIGN KEY(ID_ROL_PERMISO) REFERENCES TB_ROL_SISTEMA(ID_ROL),
    FOREIGN KEY(ID_MENU_PERMISO) REFERENCES TB_MENU_SISTEMA(ID_MENU)
);

INSERT INTO TB_ROL_SISTEMA(NOMBRE_ROL)VALUES('ADMINISTRADOR');
INSERT INTO TB_ROL_SISTEMA(NOMBRE_ROL)VALUES('VIEWER');
INSERT INTO TB_ROL_SISTEMA(NOMBRE_ROL)VALUES('RRHH');

INSERT INTO TB_USUARIO(USUARIO,PASSWORD,EMAIL,ACTIVO,ID_ROL_USUARIO)VALUES('ANDRECV','P4ssw0rd@','andrecanalesv@gmail.com',true,1);

INSERT INTO TB_MENU_SISTEMA(NOMBRE_MENU,RUTA,ICO)VALUES('COMPROBANTES','comprobantes','');
INSERT INTO TB_MENU_SISTEMA(NOMBRE_MENU,RUTA,ICO)VALUES('RECURSOS HUMANOS','recursos-humanos','');
INSERT INTO TB_MENU_SISTEMA(NOMBRE_MENU,RUTA,ICO)VALUES('NETWORK TIENDAS','network-tiendas','');
INSERT INTO TB_MENU_SISTEMA(NOMBRE_MENU,RUTA,ICO)VALUES('CONFIGURACION','configuracion','');

INSERT INTO TB_MENU_SISTEMA(ID_MENU_SUBMENU,NOMBRE_SUBMENU)VALUES(1,'ESTATUS COMPROBANTES');
INSERT INTO TB_MENU_SISTEMA(ID_MENU_SUBMENU,NOMBRE_SUBMENU)VALUES(1,'ERRORES SUNAT');

INSERT INTO TB_MENU_SISTEMA(ID_MENU_SUBMENU,NOMBRE_SUBMENU)VALUES(2,'REPORTE ASISTENCIA');
INSERT INTO TB_MENU_SISTEMA(ID_MENU_SUBMENU,NOMBRE_SUBMENU)VALUES(2,'EMPLEADOS');

INSERT INTO TB_MENU_SISTEMA(ID_MENU_SUBMENU,NOMBRE_SUBMENU)VALUES(3,'CONSOLA');
INSERT INTO TB_MENU_SISTEMA(ID_MENU_SUBMENU,NOMBRE_SUBMENU)VALUES(3,'DISPOSITIVOS CONECTADOS');

INSERT INTO TB_MENU_SISTEMA(ID_MENU_SUBMENU,NOMBRE_SUBMENU)VALUES(4,'CONFIGURACION PARAMETROS');
INSERT INTO TB_MENU_SISTEMA(ID_MENU_SUBMENU,NOMBRE_SUBMENU)VALUES(4,'ACTIALIZACION GLOBAL');


/* TABLAS CONFIGURACION */

/*** EMAIL ***/
CREATE TABLE TB_CONFIGURACION_EMAIL(
    ID_CRD_EMAIL INT AUTO_INCREMENT,
    EMAIL VARCHAR(50),
    PASSWORD VARCHAR(50),
    PRIMARY KEY(ID_CRD_EMAIL)
);

CREATE TABLE TB_LISTA_EMAIL_ALERTA(
    ID_EMAIL_ALERT INT AUTO_INCREMENT,
    EMAIL_ALERT VARCHAR(50),
    PRIMARY KEY(ID_EMAIL_ALERT)
);

INSERT INTO TB_CONFIGURACION_EMAIL(EMAIL,PASSWORD)VALUES('itperu.notification@gmail.com','zgbiaxbnhulwlvqk');

INSERT INTO TB_LISTA_EMAIL_ALERTA(EMAIL_ALERT)VALUES('andrecanalesv@gmail.com');

/*** FIN EMAIL ***/

/*** PARAMETROS TIENDA ***/

CREATE TABLE TB_PARAMENTROS_TIENDA(
    ID_PARAM_TIENDA INT AUTO_INCREMENT,
    SERIE_TIENDA VARCHAR(3),
    MAC_SERVER VARCHAR(17),
    INSTANCIA_BD_FRONT VARCHAR(25),
    NAME_BD_FRONT VARCHAR(25),
    CODIGO_TIPO_FACTURA NUMBER,
    CODIGO_TIPO_BOLETA NUMBER,
    PRIMARY KEY(ID_PARAM_TIENDA)
);

INSERT INTO TB_PARAMENTROS_TIENDA(SERIE_TIENDA,MAC_SERVER,INSTANCIA_BD_FRONT,NAME_BD_FRONT,CODIGO_TIPO_FACTURA,CODIGO_TIPO_BOLETA)VALUES('7E','14:B3:1F:28:F2:3E','SQLEXPRESS','BBWLRPR',28,24);
INSERT INTO TB_PARAMENTROS_TIENDA(SERIE_TIENDA,MAC_SERVER,INSTANCIA_BD_FRONT,NAME_BD_FRONT,CODIGO_TIPO_FACTURA,CODIGO_TIPO_BOLETA)VALUES('9D','6C:2B:59:F7:DA:C0','SQLEXPRESS','VSBAPRLR',27,26);
INSERT INTO TB_PARAMENTROS_TIENDA(SERIE_TIENDA,MAC_SERVER,INSTANCIA_BD_FRONT,NAME_BD_FRONT,CODIGO_TIPO_FACTURA,CODIGO_TIPO_BOLETA)VALUES('9B','14:B3:1F:2A:2E:21','VSPNPE','VSPNPR',27,26);
INSERT INTO TB_PARAMENTROS_TIENDA(SERIE_TIENDA,MAC_SERVER,INSTANCIA_BD_FRONT,NAME_BD_FRONT,CODIGO_TIPO_FACTURA,CODIGO_TIPO_BOLETA)VALUES('7C','14:B3:1F:28:EF:65','SQLEXPRESS','BBWSMPR',28,24);
INSERT INTO TB_PARAMENTROS_TIENDA(SERIE_TIENDA,MAC_SERVER,INSTANCIA_BD_FRONT,NAME_BD_FRONT,CODIGO_TIPO_FACTURA,CODIGO_TIPO_BOLETA)VALUES('9C','14:B3:1F:29:52:98','SQLEXPRESS','VSSMPR',27,26);
INSERT INTO TB_PARAMENTROS_TIENDA(SERIE_TIENDA,MAC_SERVER,INSTANCIA_BD_FRONT,NAME_BD_FRONT,CODIGO_TIPO_FACTURA,CODIGO_TIPO_BOLETA)VALUES('7D','D8:9E:F3:89:87:0B','SQLEXPRESS','BBWPRPS',27,26);
INSERT INTO TB_PARAMENTROS_TIENDA(SERIE_TIENDA,MAC_SERVER,INSTANCIA_BD_FRONT,NAME_BD_FRONT,CODIGO_TIPO_FACTURA,CODIGO_TIPO_BOLETA)VALUES('9I','6C:2B:59:F6:6C:20','CAJA01','VSPRMS',27,26);
INSERT INTO TB_PARAMENTROS_TIENDA(SERIE_TIENDA,MAC_SERVER,INSTANCIA_BD_FRONT,NAME_BD_FRONT,CODIGO_TIPO_FACTURA,CODIGO_TIPO_BOLETA)VALUES('9H','14:B3:1F:19:84:EB','SQLEXPRESS','VSPUPR',27,26);
INSERT INTO TB_PARAMENTROS_TIENDA(SERIE_TIENDA,MAC_SERVER,INSTANCIA_BD_FRONT,NAME_BD_FRONT,CODIGO_TIPO_FACTURA,CODIGO_TIPO_BOLETA)VALUES('9K','C8:F7:50:F9:7B:5F','MEGAPLZ','VSMPPR',27,26);
INSERT INTO TB_PARAMENTROS_TIENDA(SERIE_TIENDA,MAC_SERVER,INSTANCIA_BD_FRONT,NAME_BD_FRONT,CODIGO_TIPO_FACTURA,CODIGO_TIPO_BOLETA)VALUES('9L','C8:F7:50:F9:C5:2F','VSMKPR','MKPEVSFA',27,26);
INSERT INTO TB_PARAMENTROS_TIENDA(SERIE_TIENDA,MAC_SERVER,INSTANCIA_BD_FRONT,NAME_BD_FRONT,CODIGO_TIPO_FACTURA,CODIGO_TIPO_BOLETA)VALUES('9F','6C:2B:59:F1:99:AF','VSFAJP','VSFAPR',27,26);

/*** FIN PARAMETROS TIENDA ***/




